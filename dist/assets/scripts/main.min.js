/*! myapp 2016-06-03 */
var myApp=angular.module("myApp",["ui.router"]).config(function(){});myApp.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("login",{url:"/",templateUrl:"/views/pages/login.html",controller:"mainController",data:{pageTitle:"MyApp - Login"}}).state("dashboard",{url:"/dashboard",templateUrl:"/views/dashboard.html",controller:"dashboardController",data:{pageTitle:"MyApp - New Dashboard"}}).state("contatos",{url:"/contatos",templateUrl:"/views/contatos.html",controller:"mainController",data:{pageTitle:"MyApp - Contatos"}}),c.html5Mode(!0)}]),myApp.controller("mainController",["$rootScope","$scope","$http",function(a,b,c,d){!function(){!function(){d.getRequestAjax("GET","/api/contatos","","refresh"),a.$on("refresh",function(a,c,d){console.log("Contatos: ",c),b.contatos=c,b.formContato={}})}()}(),b.criarContato=function(){!function(){d.getRequestAjax("POST","/api/contatos",b.formContato,"createContacts"),a.$on("createContacts",function(a,c,d){b.formContato={},b.contatos=c,console.log(c)})}()},b.deletarContato=function(a){c["delete"]("/api/contatos/"+a).success(function(a){b.contatos=a,console.log(a)}).error(function(a){console.log("Error: "+a)})},b.editarContato=function(a){c.get("/api/contatos/"+a).success(function(a){b.formContato=a,console.log(a)}).error(function(a){console.log("Error: "+a)})},b.atualizarContato=function(){c.put("/api/contatos/"+b.formContato._id,b.formContato).success(function(a){refresh()})}}]),myApp.factory("requestFactory",function(a,b){var c={};return c.getRequestAjax=function(c,d,e,f){return b({method:c,url:config.baseUrl+d,data:e}).success(function(b,c){a.$emit(f,b,c)}).error(function(a){console.log("Error in: "+a.message)})},c}),myApp.value("config",{baseUrl:"localhost:8080"});